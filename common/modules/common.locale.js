!function(r){"use strict";var n=r.module("common.locale",["ngLocale"]);n.directive("translate",["T",function(r){return{restrict:"AE",scope:{translate:"@",count:"=?",params:"=?"},template:'<span ng-bind="getTranslatedText()"></span>',link:function(n,t,e){n.getTranslatedText=function(){var t,e,a=n.params;return a||0===a||(a=[]),Array.isArray(a)||(a=[a]),n.count||0===n.count?(t=r).pluralize.apply(t,$traceurRuntime.spread([n.translate,n.count],a)):(e=r).translate.apply(e,$traceurRuntime.spread([n.translate],a))}}}}]),n.factory("T",["locale","$log",function(r,n){function t(t){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];var o,i,u=r.dictionary||{};return u.hasOwnProperty(t)?t=u[t]:n.debug('Translate for string "'+t+'" for locale "'+r.id+'" is not defined'),o=0,i=function(){return o>=e.length&&(o=0),e[o++]||""},(t||"").replace(/(%s)/gi,function(){return i()+""})}function e(t,e){for(var a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];var i,u,l,c,s=r.dictionary||{},f=r.plural;return e=e||0,f||(n.debug('Plural function for locale "'+r.id+'" is not defined'),f=function(r){return 1===r?"one":"other"}),i=s[t],i&&"object"==typeof i?(u=f(e),i.hasOwnProperty(u)||(n.debug('Plural for category "'+u+'" for string "'+t+'" for locale "'+r.id+'" is not defined'),u="other"),i.hasOwnProperty(u)&&(t=i[u])):n.debug('Plural for string "'+t+'" for locale "'+r.id+'" is not defined'),l=0,c=function(){return l>=a.length&&(l=0),(a[l++]||"")+""},(t||"").replace(/(%n|\{n})/gi,function(){return e+""}).replace(/(%s)/gi,function(){return c()+""})}var a;return a=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return"number"==typeof r[0]?e.apply(void 0,$traceurRuntime.spread([r[1],r[0]],r.slice(2))):t.apply(void 0,$traceurRuntime.spread(r))},a.translate=a.t=t,a.pluralize=a.tn=e,a}]),n.provider("locale",function(){var r="en",n={};this.locale=function(n){r=n},this.dictionary=function(r){n=r||{}},this.$get=["$locale",function(t){return{id:r,dictionary:n,plural:t.pluralCat}}]})}(angular);